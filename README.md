# Replication package for paper : "Automated Generation of Context-Rich Prompts for LLM-based Method Name Suggestion"

# ContextCraft:
ContextCraft is an automated algorithm to generating context-rich prompts for LLMs that generate the expected method names according to the prompts. For a given query (functional description), it retrieves a few best examples whose functional descriptions have
the greatest similarity with the query. From the examples, it identifies tokens that are likely to appear in the final method name as well as their likely positions, picks up pivot words that are semantically related to tokens in the according method names, and specifies
the evaluation results of the LLM on the selected examples. All such outputs (tokens with probabilities and position information, pivot words accompanied by associated name tokens and similarity scores, and evaluation results) together with the query and the selected examples are then filled in a predefined prompt template, resulting in a context-rich prompt..
## Directory Structure

This section provides an overview of the repository structure, including datasets, evaluation results, and source code.
![Directory](Directory.PNG)

### `Dataset`

This directory contains the dataset files used for training, validation, and testing the models.

- **`java_test.txt`**: Contains functional descriptions and corresponding method names used for testing the model's performance.
- **`java_train.txt`**: Contains functional descriptions and corresponding method names used to train the model.
- **`java_valid.txt`**: Contains functional descriptions and corresponding method names used to validate the model during training.

### `Evaluation`

This directory holds evaluation results and metrics used to assess the performance of the models.

### `Source_Code`

This directory includes various Jupyter notebooks that implement the core functionalities of the project.
- **`PTPandPWI.ipynb`**: Implements Probabilistic Token Positioning (PTP) and Pivot Word Identification (PWI), techniques for identifying useful tokens from examples.
- **`Plugin_PTP_PWI_into_Example.ipynb`**: Demonstrates how to integrate PTP and PWI processes into example functional descriptions to improve method name generation.
- **`Embedding_Vector_DataBase.ipynb`**: Generates and manages embedding vectors for tokens, potentially storing them in a database.
- **`LLM_FeedBack.ipynb`**: Contains the implementation of the LLM-based Feedback Mechanism (LFM), which provides quantitative feedback on LLM-generated method names.
- **`ContextCraft.ipynb`**: Implements the ContextCraft algorithm to generate context-rich prompts that enhance method name generation.
- **`EvaluationofPrompt.ipynb`**: Evaluates the effectiveness of prompts generated by the ContextCraft algorithm and other methods.

## Working with Diffferent Length of functional description and Method 
The table lists the performance of five models—ChatGPT-3.5, ChatGPT-4, ChatGPT-4o, Gemini, and Llama3—across different lengths of functional descriptions, ranging from 0 to 5 tokens up to 40+ tokens.
![Table 5](Evaluation/Table7.PNG)
![Performance over description length](Evaluation/Result_Graphs.png)
### Observations
1. ChatGPT-4 consistently performs well across shorter functional descriptions (0-13 tokens) with high exact match percentages and semantic similarity scores.
2. Gemini shows strong performance in longer functional descriptions (18+ tokens) with notable exact match rates and semantic similarity indexes.
3. Llama3 tends to have the lowest edit distances in several categories, indicating efficient generation with fewer modifications required.
4. ChatGPT-4o has competitive performance, especially in maintaining low edit distances, making it efficient in closer matches even when not leading in EM or SSI.


This snippet gives a clear, step-by-step guide for users to replicate the study, ensuring they understand how to set up their environment correctly. Make sure to include any additional specific instructions or prerequisites needed directly in your README or linked documentation to assist users further.
git clone https://github.com/contextcraft/contextcraft.git



